{% extends "base.html" %}
{% block body %}
<div id="map"></div>
  <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 5,
          center: {lat: 24.886, lng: -70.268},
          mapTypeId: google.maps.MapTypeId.TERRAIN
        });

        // Define the LatLng coordinates for the polygon's path.
        var polyCoords = [
          {% for p in poly %}
            {lat: {{ p[1] }}, lng: {{ p[0] }}},
          {% endfor %}
        ];

        // Construct the polygon.
        var poly = new google.maps.Polygon({
          paths: polyCoords,
          strokeColor: '#FF0000',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#FF0000',
          fillOpacity: 0.35
        });
        poly.setMap(map);
      }
  </script>

  <script async defer src="https://maps.googleapis.com/maps/api/js?key={{ maps_key }}&signed_in=true&callback=initMap"></script>
{% endblock %}
